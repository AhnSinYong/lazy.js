<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Lazy.js ES6 Generators Demo</title>
    <link href="../../stylesheets/lib/codemirror.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="../../stylesheets/demos/generators.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="../../javascripts/lib/lazy.min.js" type="text/javascript"></script>
    <script src="../../javascripts/lib/codemirror.js" type="text/javascript"></script>
    <script src="../../javascripts/lib/codemirror/javascript.js" type="text/javascript"></script>
    <script src="../../javascripts/lib/lemming.js" type="text/javascript"></script>
    <script src="../../javascripts/demos/generators.js" type="text/javascript"></script>

    <link href="../../stylesheets/demo.css" media="screen" rel="stylesheet" type="text/css" />
</head>

<body>
        <div>
        <header>
            <h1>Lazy.js ES6 Generators Demo</h1>
        </header>

        <p>
            In the <code>&lt;textarea&gt;</code> on the left, define an ES6
            generator. In the middle, you can wrap this generator using
            <code>Lazy(generator)</code> and then <code>map</code>,
            <code>filter</code>, etc. to your heart's content. The resulting
            sequence will be evaluated and shown on the right.
        </p>

        <p class="important">
            This demo requires a browser which supports
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators">ES6 Generators</a>.
        </p>

        <p>
            <small>Oh an by the way, in case you were wondering: this demo uses
            <a href="https://github.com/dtao/lemming.js">lemming.js</a> to evaluate the code you
            enter in the editors below. (And the editors use
            <a href="http://codemirror.net">CodeMirror</a>.)</small>
        </p>

        <div id="workspace">
            <div id="generator-wrapper">
                <textarea id="generator">function generateRandoms(min, max) {
  return function *randoms() {
    while (true) {
      yield min + Math.floor(Math.random() * (max - min));
    };
  };
}
</textarea>
            </div>

            <div id="sequence-wrapper">
                <textarea id="sequence">// The numbers from 1-100 in random order
Lazy(generateRandoms(1, 100))
  .uniq()
  .take(10);
</textarea>
            </div>

            <div id="output-wrapper">
                <textarea id="output"></textarea>
            </div>
        </div>
    </div>

    <script src="../../javascripts/ga.js" type="text/javascript"></script>
    <a id="back-to-site-link" href="../../">Back to the Lazy.js site</a>
</body>

</html>
